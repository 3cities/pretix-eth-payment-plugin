(()=>{"use strict";const t={paymentDetails:null,transactionHashSubmitted:!1,lastOrderStatus:"",elements:{divError:document.getElementById("message-error"),divSuccess:document.getElementById("success"),divTransactionHash:document.getElementById("pretix-eth-transaction-hash"),aOrderDetailURL:document.getElementById("pretix-order-detail-url"),buttonPay:document.getElementById("btn-pay"),submittedTransactionHash:document.getElementById("pretix-eth-submitted-transaction-hash")},selectors:{paymentSteps:document.querySelectorAll(".pretix-eth-payment-steps")}};async function e(){let e=t.elements.aOrderDetailURL.getAttribute("data-order-detail-url");const a=function(t){t+="=";const e=decodeURIComponent(document.cookie).split(";");for(let a=0;a<e.length;a++){const n=e[a].trim();if(0==n.indexOf(t))return n.substring(17,n.length)}}("pretix_csrftoken");let n=await fetch(e,{headers:{"X-CSRF-TOKEN":a,"HTTP-X-CSRFTOKEN":a}});if(n.ok){let e=await n.json();""===t.lastOrderStatus?t.lastOrderStatus=e.status:t.lastOrderStatus!==e.status&&"p"===e.status&&location.reload()}}window.addEventListener("load",(async()=>{null!==t.elements.submittedTransactionHash&&await async function(){for(;;){try{await e()}catch(t){}await new Promise((t=>setTimeout(t,5e3)))}}()}))})();
//# sourceMappingURL=web3modal.ebe91d40da5f60dacd9b.js.map